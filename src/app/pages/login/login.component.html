<div class="container my-5 w-50 h-100 border border-4 border-info shadow-lg rounded-5">
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <div class="row jumbotron box8 p-5">
      <div class="col-sm-12 mx-t3 mb-4">
        <h2 class="text-center text-info">Login</h2>
        @if(errorMessage){
        <p class="bg-danger w-50 rounded-5 mx-auto p-3">{{errorMessage}}</p>
        }
      </div>

      <div class="col-sm-6 form-floating mb-3">
        <input type="email" class="form-control" name="email" id="email" placeholder="Enter your email."
          formControlName="email"
          [ngClass]="{'is-invalid': emailControl.invalid && emailControl.touched, 'is-valid': emailControl.valid && emailControl.touched}">
        <label for="email" class="ms-3">Email</label>
        @if(emailControl.errors && emailControl.touched) {
        <div class="errors alert alert-danger mt-3">
          @if(emailControl.errors['required']) {
          <p class="mb-0">Required</p>
          } @else if (emailControl.errors['email']){
          <p class="mb-0">Invalid email</p>
          }
        </div>
        }
        <a routerLink="/forgotPassword" routerLinkActive="router-link-active" class="link-info">Forgot Password?</a>
      </div>
      <div class="col-sm-6 form-floating mb-3">
        <input type="password" name="password" class="form-control" id="password" placeholder="Enter your password."
          formControlName="password"
          [ngClass]="{'is-invalid': passwordControl.invalid && passwordControl.touched, 'is-valid': passwordControl.valid && passwordControl.touched}">
        <label for="password" class="ms-3">Password</label>
        @if(passwordControl.errors && passwordControl.touched) {
        <div class="errors alert alert-danger mt-3">
          @if(passwordControl.errors['required']) {
          <p class="mb-0">Required</p>
          } @else if (passwordControl.errors['pattern']){
          <p class="mb-0">Password must be at least 3 characters and include both letters and numbers</p>
          }
        </div>
        }
      </div>
      <div class="col-sm-12 form-group mt-4">
        <button class="btn btn-info float-right d-block mx-auto mb-5 w-25" [disabled]="isLoading">
          @if(isLoading){
          <i class="fa-solid fa-spinner fa-spin-pulse"></i>
          }
          Login
        </button>
      </div>
    </div>
  </form>
</div>